Skip to content
Search or jump toâ€¦

Pull requests
Issues
Marketplace
Explore
 
@Zegdon 
Zegdon
/
jenkin-devops-microservice
1
00
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Settings
jenkin-devops-microservice/Jenkinsfile
@Zegdon
Zegdon runtesztfail2
Latest commit 89be626 5 days ago
 History
 1 contributor
95 lines (73 sloc)  2.84 KB
  
//SCRIPTED




//DECLARATIVE

pipeline {
       agent any
      // agent { docker { image 'maven:latest' }  }
      // agent { docker { image 'node:13.8' }  }
      environment{
      registry = "csabaazari/currency-exchange-devops11"
      dockerHome = tool 'myDocker'
      mavenHome = tool 'myMaven'
      PATH = "$dockerHome/bin:$mavenHome/bin:$PATH"

      }



        stages {
            stage('Checkout') {
                steps {
                       sh 'mvn --version'
                       sh 'docker --version'

                      echo "Build"
                      echo "PATH - $PATH"
                      echo "BUILD_NUMBER - $env.BUILD_NUMBER"
                      echo "BUILD_ID - $env.BUILD_ID"
                      echo "JOB_NAME - $env.JOB_NAME"
                      echo "BUILD_TAG - $env.BUILD_TAG"
                      echo "BUILD_URL - $env.BUILD_URL"
                }
            }

                        stage('Compile'){
                            steps {
                                sh "mvn clean compile"


                            }


                        }
						stage('Package'){
                            steps {
                                sh "mvn clean package"


                            }


                        }
                 
      }
      post {
            always {
                echo 'Im awsome. I run always'
            }
            success {
                echo 'I run when you are succesful'
            }
            failure {
                 echo 'I run when you fail'
            }
      }

}

